[JS content was provided earlier in full]